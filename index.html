<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>××¨×’×•×Ÿ ×•×¡×“×¨ â€“ ×¡×˜×¤× ×™</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#b08d57">
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
<style>
  :root{--gold:#b08d57;--ink:#1c1b1a;--card:#ffffff}
  body{font-family:'Heebo',sans-serif;background:linear-gradient(180deg,#fffdf8,#faf7ff)}
  h1,h2,h3{font-family:'Playfair Display',serif}
  .card{background:var(--card);border-radius:18px;box-shadow:0 12px 30px rgba(0,0,0,.08);border:1px solid rgba(176,141,87,.15)}
  .badge{background:#fff3d9;color:#6b4b1d;border:1px solid rgba(176,141,87,.35);border-radius:999px;padding:.15rem .6rem;font-size:.8rem}
  .btn{border-radius:12px;padding:.55rem .9rem;border:1px solid rgba(28,27,26,.08)}
  .btn-ghost{background:#f8f6ff}
  .btn-gold{background:var(--gold);color:#fff}
  .link{color:#6d28d9;text-decoration:underline}
  .nav-act{color:#fff;background:var(--gold)}
  .toast{position:fixed;inset-inline:16px;top:16px;background:var(--gold);color:#fff;padding:12px 14px;border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,.2);z-index:9999;text-align:center}
  .progress-wrap{height:8px;background:#f3f4f6;border-radius:999px}
  .progress-bar{height:8px;background:var(--gold);border-radius:999px}
  dialog::backdrop{background:rgba(0,0,0,.4)}
</style>
</head>
<body class="min-h-screen text-[15px]" >

  <!-- NAV -->
  <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur border-b border-[rgba(176,141,87,.25)]">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center gap-2 justify-between">
      <div class="flex items-center gap-2">
        <span class="text-2xl">ğŸ </span>
        <b class="text-lg">××¨×’×•×Ÿ ×•×¡×“×¨</b>
      </div>
      <div class="flex gap-2">
        <a href="#/home" id="nav-home" class="btn btn-ghost">×‘×™×ª</a>
        <a href="#/dashboard" id="nav-dash" class="btn btn-ghost">×“×©×‘×•×¨×“</a>
        <button id="btn-install" class="btn btn-ghost hidden">×”×ª×§×Ÿ ××¤×œ×™×§×¦×™×” ğŸ“²</button>
      </div>
    </div>
  </nav>

  <main class="max-w-5xl mx-auto px-4 py-6 space-y-6">

    <!-- ====== HOME ====== -->
    <section id="view-home" class="space-y-6">

      <!-- ×”×ª×¨××•×ª -->
      <div class="card p-5">
        <div class="flex items-center justify-between gap-3">
          <div>
            <h2 class="text-xl">ğŸ”” ×ª×–×›×•×¨×ª ×™×•××™×ª</h2>
            <p class="text-sm text-gray-500">×”×ª×¨××” ×‘×™×Ÿ 21:00â€“22:00. × ×©××¨ ×‘××›×©×™×¨.</p>
          </div>
          <div class="flex gap-2">
            <button id="btn-notify-toggle" class="btn btn-ghost">×”×¤×¢×œ ×ª×–×›×•×¨×ª</button>
            <button id="btn-notify-test" class="btn btn-gold">×‘×“×™×§×ª ×ª×–×›×•×¨×ª</button>
          </div>
        </div>
        <p id="notify-status" class="text-sm text-gray-500 mt-2"></p>
      </div>

      <!-- ××©×™××•×ª ×™×•××™×•×ª -->
      <div class="card p-5">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl">ğŸ¯ ×¤×•×§×•×¡ ×™×•××™</h2>
          <span id="today-badge" class="badge"></span>
        </div>
        <p class="text-sm text-gray-500 mt-1">
          ××³â€“×”×³: 2 ×œ××¤×œ â€¢ 2 ×œ××¢×™×™×Ÿ â€¢ 2 ×œ×¡×˜×¤× ×™ (5â€“15 ×“×³ ×œ××©×™××”) | ×•×³â€“×©×³: 1 ×œ××¤×œ â€¢ 1 ×œ××¢×™×™×Ÿ
        </p>
        <div id="daily-list" class="mt-4 grid gap-3"></div>
      </div>

      <!-- ××•×¨×›×‘×•×ª ×œ×¡×•×¤"×© â€“ ×œ×¡×˜×¤× ×™ -->
      <div class="card p-5">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl">ğŸ§± ××•×¨×›×‘×•×ª ×œ×¡×•×¤×´×© (×œ×¡×˜×¤× ×™)</h2>
          <span class="badge">30â€“60 ×“×³</span>
        </div>
        <div id="weekly-card" class="mt-4"></div>
      </div>

      <!-- ×ª×›× ×™×ª ×××•×§×“×ª ×œ××–×•×¨ (×¦×³×§Ö¾×œ×™×¡×˜ ×©×œ×š) -->
      <div class="card p-5">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl">ğŸ“Œ ×ª×›× ×™×ª ×××•×§×“×ª ×œ××–×•×¨ (×¦×³×§Ö¾×œ×™×¡×˜)</h2>
          <button id="btn-show-all" class="btn btn-ghost text-sm">×”×¦×’ ×”×›×•×œ ğŸ‘€</button>
        </div>

        <div class="grid md:grid-cols-3 gap-3 mt-3">
          <div class="md:col-span-2">
            <p class="text-sm text-gray-500">×”×“×‘×™×§×™ ×›××Ÿ ×¦×¢×“×™× â€“ ×›×œ ×©×•×¨×” ×¡×¢×™×£:</p>
            <textarea id="steps-input" rows="5" class="w-full mt-2 rounded-xl border border-gray-200 p-3 focus:outline-none focus:ring-2 focus:ring-[var(--gold)]" placeholder="1. ×œ××¡×•×£ × ×¢×œ×™×™×&#10;2. ×œ×¨×•×§×Ÿ ××ª ×”×©×•×œ×—×Ÿ&#10;3. ×œ××™×™×Ÿ ×›×‘×™×¡×”"></textarea>
          </div>
          <div>
            <label class="text-sm">×©×™×•×š ×œ××–×•×¨:</label>
            <select id="area-select" class="w-full mt-2 rounded-xl border border-gray-200 p-3">
              <option>×¡×œ×•×Ÿ</option><option>××˜×‘×—</option><option>××™</option><option>××¨×¤×¡×ª ×©×™×¨×•×ª</option><option>×—×“×¨ ××©×—×§×™×</option><option>×©×™×¨×•×ª×™×/×××‘×˜×™×” ×—×“×¨ ××©×—×§×™×</option><option>×©×™×¨×•×ª×™×/×××‘×˜×™×” ×‘× ×•×ª</option><option>×—×“×¨ ×©×™× ×” ×™×œ×“×™×</option><option>×—×“×¨ ××¨×•× ×•×ª</option><option>×—×“×¨ ×©×™× ×” ×”×•×¨×™×</option><option>×©×™×¨×•×ª×™×/×××‘×˜×™×” ×”×•×¨×™×</option><option>×—×¦×¨ ×§×“××™×ª</option><option>×—×¦×¨ ××—×•×¨×™×ª</option>
            </select>
            <div class="flex flex-wrap gap-2 mt-3">
              <button id="btn-build-checklist" class="btn btn-gold">×¦×•×¨/×¢×“×›×Ÿ ×¦×³×§Ö¾×œ×™×¡×˜ âœ…</button>
              <button id="btn-hide-done" class="btn btn-ghost">×”×¡×ª×¨ ×©×”×•×©×œ× ğŸ§¹</button>
              <button id="btn-clear" class="btn btn-ghost">× ×§×” ×¦×³×§Ö¾×œ×™×¡×˜ ğŸ—‘ï¸</button>
            </div>
          </div>
        </div>

        <div id="checklist" class="mt-4 space-y-2"></div>
        <p class="text-sm text-gray-500 mt-2">×¡×¢×™×¤×™× ××¡×•×× ×™× × ×¡×¤×¨×™× ×œ×”×ª×§×“××•×ª ×”××–×•×¨ **×”×—×•×“×©×™×ª**.</p>
      </div>

      <!-- ×ª×›× ×™×ª ×—×•×“×©×™×ª ×œ×¤×™ ××–×•×¨ (××•×‘× ×”) -->
      <div class="card p-5">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl">ğŸ“… ×ª×›× ×™×ª ×—×•×“×©×™×ª â€“ ×œ×¤×™ ××–×•×¨</h2>
